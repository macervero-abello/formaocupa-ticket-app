import{Aa as v,B as A,G as w,H as C,O as y,Q as g,U as q,_ as V,aa as L,b as x,ba as W,c as S,d as O,e as k,f as j,g as a,h as c,ha as z,i as m,j as M,k as b,l as f,la as G,m as T,ma as Y,n as I,na as J,o as E,oa as D,pa as U,qa as K,s as R,sa as Q,t as i,u as s,ua as X,v as p,va as P,w as _,wa as Z,x as d,y as l,ya as F,z as u}from"./chunk-SQZI5EJA.js";import{g as H}from"./chunk-2R6CW7ES.js";var te=()=>[0,1];function oe(n,e){if(n&1){let r=_();i(0,"div",1)(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"ion-title")(5,"ion-label",2),u(6,"Est\xE0s segur que vols tancar la sessi\xF3?"),s()()()(),i(7,"ion-row")(8,"ion-col")(9,"ion-button",3),d("click",function(){c(r);let t=l();return t.logout(),m(t.requestLogoutModal())}),u(10,"S\xED"),s()()(),i(11,"ion-row")(12,"ion-col")(13,"ion-button",4),d("click",function(){c(r);let t=l();return m(t.requestLogoutModal())}),u(14,"No"),s()()()()()}}var $=(()=>{let e=class e{constructor(){this._sessionService=a(v),this._router=a(g),this.isLogoutModalOpen=this._sessionService.logoutRequested}ngOnInit(){}logout(){return H(this,null,function*(){yield this._sessionService.logout(),this._router.navigate(["/login"])})}requestLogoutModal(){this._sessionService.setLogoutRequest()}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f({type:e,selectors:[["app-logout-modal"]],decls:2,vars:4,consts:[[3,"isOpen","initialBreakpoint","breakpoints"],[1,"modal-div"],[1,"ion-text-wrap"],["expand","block","color","success",3,"click"],["expand","block","color","danger",3,"click"]],template:function(t,h){t&1&&(i(0,"ion-modal",0),T(1,oe,15,0,"ng-template"),s()),t&2&&R("isOpen",h.isLogoutModalOpen())("initialBreakpoint",1)("breakpoints",w(3,te))},dependencies:[G,Q,z,P,U,V,L],styles:["ion-modal[_ngcontent-%COMP%]{--height: auto}.modal-div[_ngcontent-%COMP%]{background-color:var(--ion-color-tertiary-background)}.modal-div[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{padding-bottom:50px}"]});let n=e;return n})();var N=(()=>{let e=class e{constructor(){this._router=a(g),this._menuRequested=M(!1),this.menuRequested=C(()=>this._menuRequested()),this._route=M(""),this.route=C(()=>this._route()),this._router.events.pipe(k(this._router.url),S(o=>typeof o=="string"||o instanceof y),x(()=>this._router.url),O()).subscribe({next:o=>{console.log("ROUTER EVENT!"),console.log(o),this._route.set(o)},complete:()=>{},error:o=>{}})}setMenuRequest(){this._menuRequested.update(o=>!o)}};e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ne=()=>[0,1];function ie(n,e){if(n&1){let r=_();i(0,"ion-item",4),d("click",function(){c(r);let t=l(2);return t.requestMenuModal(),m(t.goToAbout())}),p(1,"ion-icon",6),i(2,"ion-label"),u(3,"Sobre l'app"),s()()}}function re(n,e){if(n&1){let r=_();i(0,"ion-item",4),d("click",function(){c(r);let t=l(2);return t.requestMenuModal(),m(t.goToHome())}),p(1,"ion-icon",7),i(2,"ion-label"),u(3,"Inici"),s()()}}function se(n,e){if(n&1){let r=_();i(0,"div",1)(1,"ion-list",2),I(2,ie,4,0,"ion-item",3)(3,re,4,0,"ion-item",3),i(4,"ion-item",4),d("click",function(){c(r);let t=l();return t.requestMenuModal(),m(t.requestLogoutModal())}),p(5,"ion-icon",5),i(6,"ion-label"),u(7,"Tancar sessi\xF3"),s()()()()}if(n&2){let r=l();b(2),E(r.route()==r.HOME_ROUTE?2:r.route()==r.ABOUT_ROUTE?3:-1)}}var ee=(()=>{let e=class e{constructor(){this._sessionService=a(v),this._menuService=a(N),this._router=a(g),this.HOME_ROUTE="/home",this.ABOUT_ROUTE="/about",this.route=this._menuService.route,this.isMenuModalOpen=this._menuService.menuRequested}ngOnInit(){}requestLogoutModal(){this._sessionService.setLogoutRequest()}requestMenuModal(){this._menuService.setMenuRequest()}goToAbout(){this._router.navigate(["/about"])}goToHome(){this._router.navigate(["/home"])}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f({type:e,selectors:[["app-menu-modal"]],decls:2,vars:4,consts:[[3,"isOpen","initialBreakpoint","breakpoints"],[1,"modal-div"],["lines","none"],["button",""],["button","",3,"click"],["color","success","aria-hidden","true","slot","start","name","log-out-outline"],["color","success","aria-hidden","true","slot","start","name","information-circle-outline"],["color","success","aria-hidden","true","slot","start","name","home-outline"]],template:function(t,h){t&1&&(i(0,"ion-modal",0),T(1,se,8,1,"ng-template"),s()),t&2&&R("isOpen",h.isMenuModalOpen())("initialBreakpoint",1)("breakpoints",w(3,ne))},dependencies:[V,K,U,F,D,q],styles:["ion-modal[_ngcontent-%COMP%]{--height: auto}.modal-div[_ngcontent-%COMP%]{background-color:var(--ion-color-tertiary-background)}.modal-div[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding-bottom:50px}ion-list[_ngcontent-%COMP%]{background-color:var(--ion-color-tertiary-background)}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent}"]});let n=e;return n})();function ae(n,e){if(n&1){let r=_();i(0,"ion-buttons",3)(1,"ion-button",4),d("click",function(){c(r);let t=l();return m(t.requestMenuModal())}),p(2,"ion-icon",5),s()()}}var Ue=(()=>{let e=class e{constructor(){this._sessionService=a(v),this._menuService=a(N),this._router=a(g),this._route=M(""),this.HOME_ROUTE="/home",this.ABOUT_ROUTE="/about",this.year=M(new Date().getFullYear()).asReadonly(),this.isSessionStarted=this._sessionService.isSessionStarted,this.route=C(()=>this._route()),this._router.events.pipe(k(this._router.url),S(o=>typeof o=="string"||o instanceof y),x(()=>this._router.url),O()).subscribe({next:o=>{console.log("ROUTER EVENT!"),console.log(o),this._route.set(o)},complete:()=>{},error:o=>{}})}ngOnInit(){}requestMenuModal(){this._menuService.setMenuRequest()}requestLogoutModal(){this._sessionService.setLogoutRequest()}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f({type:e,selectors:[["app-header"]],decls:11,vars:2,consts:[["color","tertiary-background"],["color","tertiary-background","lines","none"],["src","assets/icon/logo64.png"],["slot","end"],[3,"click"],["slot","icon-only","name","ellipsis-vertical"]],template:function(t,h){t&1&&(i(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-item",1)(3,"ion-thumbnail"),p(4,"ion-img",2),s(),i(5,"ion-title"),u(6),s()(),I(7,ae,3,0,"ion-buttons",3),s()(),p(8,"app-logout-modal")(9,"app-menu-modal")(10,"app-logout-modal")),t&2&&(b(6),A("Fira Formaocupa ",h.year()),b(),E(h.isSessionStarted()?7:-1))},dependencies:[Y,Z,W,L,P,J,X,D,F,q,ee,$],styles:["ion-thumbnail[_ngcontent-%COMP%]{--size: 28px}"]});let n=e;return n})();export{$ as a,Ue as b};
